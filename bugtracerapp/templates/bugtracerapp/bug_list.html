{% extends "bugtracerapp/layout.html" %} {% block title %} - Home{%endblock%}
<!---->
{%block body %}
<div class="container-fluid">
  <h1 class="h1 text-gray-800 my-5">
    {%if "solved" in request.path%} Resolved Bugs {%else%}Dashboard{%endif%}
  </h1>
</div>
<div class="list-group">
  {% for bug in bug_list %}
  <div class="list-group-item list-group-item-action">
    <a style="text-decoration: none" href="{% url 'bug_detail' bug.id %}">
      <p
        class="h4 text-{%if bug.priority == 1 %}danger{% elif bug.priority == 2 %}warning{%else%}info{%endif%}"
      >
        {{bug.title}}
      </p>
      <p>
        <a
          href="{%url 'project_detail' bug.project.id%}"
          style="z-index: 1; text-decoration: none"
          ><strong class="f5 text-info">
            {%if bug.project.logo%}
            <img
              style="width: 30px"
              class="rounded-circle"
              src="{{bug.project.logo.url}}"
              alt="{{bug.project.title}} logo"
            />
            {%endif%} {{bug.project}}</strong
          ></a
        >
        - {%if bug.priority == 1%}High Priority {% elif bug.priority == 2%}
        Medium Priority{% else %}Low Priority{%endif%}
      </p>
      <div class="text-right">
        <p>
          <small>Submitted by </small>{{bug.author}}
          <small>on {{bug.date}}</small>
        </p>
      </div>
    </a>
  </div>
  {% empty %}
  <h3>No Bugs to Display</h3>
  {% endfor %} {%if page_obj.has_next or page_obj.has_previous %}
  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center my-4">
      <li
        class="{%if page_obj.has_previous %} page-item {%else%} page-item disabled {%endif%}%"
      >
        <a class="page-link" href="?page=1">&laquo; first</a>
      </li>
      <li
        class="{%if page_obj.has_previous %} page-item {%else%} page-item disabled {%endif%}"
      >
        <a
          class="page-link"
          href="?page={% if page_obj.has_previous %}{{page_obj.previous_page_number}}{%endif%}"
          >previous</a
        >
      </li>

      {% for number in page_obj.paginator.page_range %}
      <li class="page-item {%if number == page_obj.number%} active {% endif %}">
        <a class="page-link" href="?page={{number}}">{{number}}</a>
      </li>
      {%endfor%}

      <li
        class="{%if page_obj.has_next %} page-item {%else%} page-item disabled {%endif%}"
      >
        <a
          class="page-link"
          href="?page={% if page_obj.has_next %}{{page_obj.next_page_number}}{%endif%}"
          >next</a
        >
      </li>
      <li
        class="{%if page_obj.has_next %} page-item {%else%} page-item disabled {%endif%}"
      >
        <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}"
          >last &raquo;</a
        >
      </li>
    </ul>
  </nav>
  {%endif%}
</div>
{%endblock%}
